"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{310:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(5155),s=a(2801),i=a(6731),n=a(4732),o=a(5317),r=a(2115);let d=()=>{let{isReady:e,currentUser:t,setLoading:a}=(0,r.useContext)(s.AuthContext),{isNewClientTag:d,setIsNewClientTag:c,newClientTags:p,clientData:m,setClientData:x,setNewClientTags:h,newClientTagID:u,setNewClientTagID:g}=(0,r.useContext)(i.S),y=async e=>{if(e.preventDefault(),"Select a Tag"!=tagSelected.value)if(a(!0),-1==p.indexOf(tagSelected.value.toUpperCase())){p.unshift(tagSelected.value.toUpperCase());let e=(0,o.H9)(n.db,"happyuser",t.uid,"happyclient",u);await (0,o.mZ)(e,{tags:p}),m.forEach(e=>{e.id==u&&(e.tags=p)}),x(m),c(!1),a(!1)}else c(!1),a(!1);else c(!1)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--themeBlackTrans)] fixed flex justify-center items-center p-6",children:(0,l.jsxs)("div",{className:"rounded-xl bg-[var(--themeWhite)] w-full max-w-[400px]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center rounded-tl-lg rounded-tr-lg bg-[var(--greenLightestPanel)] py-3 px-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-black flex-1",children:"Add Tags"}),(0,l.jsx)("i",{className:"fa-solid fa-close text-xl cursor-pointer px-2 py-1",onClick:()=>{c(!1)}})]}),(0,l.jsx)("div",{className:"px-6 md:px-8 py-6",children:(0,l.jsxs)("form",{onSubmit:e=>{y(e)},children:[(0,l.jsx)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:"Tag List"}),(0,l.jsxs)("select",{name:"tagSelected",id:"tagSelected",className:"happyinput",children:[(0,l.jsx)("option",{children:"Select a Tag"}),(0,l.jsx)("option",{children:"Premium"}),(0,l.jsx)("option",{children:"Frequent"}),(0,l.jsx)("option",{children:"Inactive"}),(0,l.jsx)("option",{children:"Flagged"}),(0,l.jsx)("option",{children:"Due Payment"}),(0,l.jsx)("option",{children:"International"})]}),(0,l.jsxs)("button",{className:"btnGreen mt-5 w-full",children:["Add Tag to Client ",(0,l.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})]})})]})})})}},3219:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(5155),s=a(2115),i=a(2230),n=a(6731),o=a(2801),r=a(5317),d=a(4732),c=a(9328);let p=e=>{let{setIsClientEdit:t,isFailedMsg:a,setIsFailedMsg:p,setIsUpdateClient:m,setClientDataReady:x,clientData:h,setClientData:u}=(0,s.useContext)(n.S),{userData:g,setUserData:y,currentUser:v}=(0,s.useContext)(o.AuthContext),[f,j]=(0,s.useState)(""),[N,b]=(0,s.useState)(""),[C,w]=(0,s.useState)(""),[k,E]=(0,s.useState)(""),[A,S]=(0,s.useState)(!1),[T,I]=(0,s.useState)(""),[L,P]=(0,s.useState)(""),U=async a=>{if(a.preventDefault(),S(!0),e.name==f&&e.mail==N&&e.phone==C&&e.address==k)j(""),b(""),w(""),E(""),t(!1),S(!1);else{let a=(0,r.H9)(d.db,"happyuser",v.uid,"happyclient",e.uid);await (0,r.mZ)(a,{name:f,mail:N,phone:C,address:k}),h.forEach(t=>{t.id==e.uid&&(t.name=f,t.mail=N,t.phone=C,t.address=k)}),u(h),x(!0),j(""),b(""),w(""),E(""),t(!1),S(!1)}};return(0,s.useEffect)(()=>{j(e.name),b(e.mail),w(e.phone),E(e.address)},[e.name,e.mail,e.phone,e.address]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--themeBlackTrans)] fixed flex justify-center items-start p-6",children:(0,l.jsxs)("div",{className:"rounded-xl bg-[var(--themeWhite)] w-full max-w-[400px]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center rounded-tl-lg rounded-tr-lg bg-[var(--greenLightestPanel)] py-3 px-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-black flex-1",children:"Update Client"}),(0,l.jsx)("i",{className:"fa-solid fa-close text-xl cursor-pointer px-2 py-1",onClick:()=>{t(!1)}})]}),(0,l.jsx)("div",{className:"px-6 md:px-8 py-6",children:(0,l.jsxs)("form",{onSubmit:e=>{U(e)},children:[(0,l.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Client Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{required:!0,type:"text",name:"name",value:f,onChange:e=>{j(e.target.value)},className:"happyinput",placeholder:"i.e. John"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Email ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("input",{type:"email",name:"mail",value:N,onChange:e=>{b(e.target.value)},className:"happyinput",placeholder:"i.e. john@gmail.com"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Phone ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("input",{type:"text",name:"phone",value:C,onChange:e=>{w(e.target.value)},className:"happyinput",placeholder:"i.e. 9900990099"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Address ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("textarea",{name:"address",value:k,onChange:e=>{E(e.target.value)},className:"happyinput",placeholder:"i.e. JR Street"}),(0,l.jsxs)("button",{className:"btnGreen mt-5 w-full",children:["Update Client ",(0,l.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})]})})]})}),a&&(0,l.jsx)(c.A,{heading:T,message:L}),A&&(0,l.jsx)(i.A,{})]})}},7667:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(5155),s=a(2801),i=a(6731),n=a(4732),o=a(5317),r=a(2115),d=a(4029);a(3219);let c=e=>{let{data:t}=e,{isReady:a,currentUser:c,userData:p,setUserData:m,setLoading:x}=(0,r.useContext)(s.AuthContext),[h,u]=(0,r.useState)(""),[g,y]=(0,r.useState)(t),[v,f]=(0,r.useState)(t),[j,N]=(0,r.useState)(!1),[b,C]=(0,r.useState)(""),{clientData:w,setClientData:k,isClientEdit:E,setIsClientEdit:A,userEditArray:S,setUserEditArray:T,isNewClientTag:I,setIsNewClientTag:L,newClientTagID:P,setNewClientTagID:U,newClientTags:F,setNewClientTags:D}=(0,r.useContext)(i.S),M=e=>{u(e.target.value),""!=e.target.value?y(v.filter(t=>{if(t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.mail.toLowerCase().includes(e.target.value.toLowerCase())||-1!=t.tags.indexOf(e.target.value.toUpperCase()))return!0})):y(v)},R=e=>{u(e),""!=e?y(v.filter(t=>{if(-1!=t.tags.indexOf(e.toUpperCase()))return!0})):y(v)},B=(e,t)=>{D(t),U(e),L(!0)},O=async(e,t,a)=>{x(!0);let l=t.indexOf(a);if(-1!=l){t.splice(l,1);let a=(0,o.H9)(n.db,"happyuser",c.uid,"happyclient",e);await (0,o.mZ)(a,{tags:t}),w.forEach(a=>{a.id==e&&(a.tags=t)}),k(w),x(!1)}},G=async(e,t)=>{x(!0);let a=w.indexOf(e);if(-1!=a){let e=(0,o.H9)(n.db,"happyuser",c.uid,"happyclient",t);await (0,o.kd)(e);let l=(0,o.H9)(n.db,"happyuser",c.uid);await (0,o.mZ)(l,{clientleft:p.clientleft+1}),m({...p,clientleft:p.clientleft+1}),w.splice(a,1),k(w),x(!1)}},H=(e,t)=>{T(e),A(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.m_,{id:"my-tooltip"}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",name:"search",value:h,onChange:e=>{M(e)},className:"happyinput max-w-[300px]",placeholder:"search by name, email here..."})}),(0,l.jsxs)("div",{className:"mt-3 mb-5 overflow-x-auto flex justify-start items-center gap-2",children:[(0,l.jsx)("div",{onClick:()=>{R("")},className:"px-3 py-1 rounded-sm bg-gray-100 hover:bg-gray-200 cursor-pointer text-gray-900 text-xs font-medium",children:"ALL"}),(0,l.jsx)("div",{onClick:()=>{R("Premium")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show only premium clients","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-yellow-100 hover:bg-yellow-200 cursor-pointer text-yellow-900 text-xs font-medium",children:"PREMIUM"}),(0,l.jsx)("div",{onClick:()=>{R("Frequent")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show clients with frequent activity","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-green-100 hover:bg-green-200 cursor-pointer text-green-900 text-xs font-medium",children:"FREQUENT"}),(0,l.jsx)("div",{onClick:()=>{R("Inactive")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show inactive clients","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-gray-100 hover:bg-gray-200 cursor-pointer text-gray-900 text-xs font-medium",children:"INACTIVE"}),(0,l.jsx)("div",{onClick:()=>{R("Flagged")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show flagged clients","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-red-100 hover:bg-red-200 cursor-pointer text-red-900 text-xs font-medium",children:"FLAGGED"}),(0,l.jsx)("div",{onClick:()=>{R("Due Payment")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show clients with due invoices","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-amber-100 hover:bg-amber-200 cursor-pointer text-amber-900 text-xs font-medium",children:"DUE PAYMENT"}),(0,l.jsx)("div",{onClick:()=>{R("International")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"show international clients","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-cyan-100 hover:bg-cyan-200 cursor-pointer text-cyan-900 text-xs font-medium",children:"INTERNATIONAL"})]}),(0,l.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("thead",{className:"text-xs text-gray-800 rounded-md uppercase bg-gray-50 dark:bg-gray-200 dark:text-gray-400",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"pl-4 pr-1 py-3",children:"CLIENT NAME"}),(0,l.jsx)("th",{scope:"col",className:"pl-4 pr-1 py-3",children:"MAIL"}),(0,l.jsx)("th",{scope:"col",className:"pl-4 pr-1 py-3",children:"PHONE"}),(0,l.jsx)("th",{scope:"col",className:"pl-4 pr-1 py-3 text-right",children:"Total Billed"}),(0,l.jsx)("th",{scope:"col",className:"pl-4 pr-1 py-3",children:"ACTION"})]})}),(0,l.jsx)("tbody",{children:g.map(e=>(0,l.jsxs)("tr",{className:"odd:bg-[var(--themeWhite)] text-gray-600 even:bg-gray-50 border-b border-gray-100 hover:bg-gray-100 cursor-pointer",children:[(0,l.jsxs)("th",{scope:"row",className:"pl-4 pr-1 py-4 font-medium text-gray-700 whitespace-nowrap flex justify-start items-center gap-2",children:[e.name,(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 max-w-[200px]",children:[e.tags.includes("PREMIUM")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"PREMIUM")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client is marked as a premium (high-value) customer. click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-yellow-100 hover:bg-yellow-200 cursor-pointer text-yellow-900 text-xs font-medium",children:"PREMIUM"}),e.tags.includes("FREQUENT")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"FREQUENT")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client interacts or purchases frequently. click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-green-100 hover:bg-green-200 cursor-pointer text-green-900 text-xs font-medium",children:"FREQUENT"}),e.tags.includes("INACTIVE")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"INACTIVE")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client hasn’t interacted in a while. click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-gray-100 hover:bg-gray-200 cursor-pointer text-gray-900 text-xs font-medium",children:"INACTIVE"}),e.tags.includes("FLAGGED")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"FLAGGED")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client has an issue or needs attention. click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-red-100 hover:bg-red-200 cursor-pointer text-red-900 text-xs font-medium",children:"FLAGGED"}),e.tags.includes("DUE PAYMENT")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"DUE PAYMENT")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client has pending payment or overdue invoice(s). click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-amber-100 hover:bg-amber-200 cursor-pointer text-amber-900 text-xs font-medium",children:"DUE PAYMENT"}),e.tags.includes("INTERNATIONAL")&&(0,l.jsx)("div",{onClick:()=>{O(e.id,e.tags,"INTERNATIONAL")},"data-tooltip-id":"my-tooltip","data-tooltip-content":"this client is based outside your local region/country. click to remove!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-cyan-100 hover:bg-cyan-200 cursor-pointer text-cyan-900 text-xs font-medium",children:"INTERNATIONAL"})]}),(0,l.jsx)("div",{onClick:()=>{B(e.id,e.tags)},"data-tooltip-id":"my-tooltip","data-tooltip-content":"add tags for this client.","data-tooltip-place":"top",className:"w-[20px] h-[20px] bg-gray-200 hover:bg-gray-300 text-[11px] text-gray-500 font-bold rounded-full flex justify-center items-center",children:(0,l.jsx)("i",{className:"fa-solid fa-plus"})})]}),(0,l.jsxs)("td",{className:"pl-4 pr-1 py-4",children:[(0,l.jsx)("i",{className:"fa-solid fa-envelope mr-2"}),""!=e.mail?e.mail:"-"]}),(0,l.jsxs)("td",{className:"pl-4 pr-1 py-4",children:[(0,l.jsx)("i",{className:"fa-solid fa-phone mr-2"}),""!=e.phone?e.phone:"-"]}),(0,l.jsx)("td",{className:"pl-4 pr-1 py-4 text-[var(--greenPanel)] font-semibold text-right",children:e.billed>0?(0,l.jsxs)("span",{children:["₹ ",e.billed]}):(0,l.jsxs)("span",{className:"text-gray-500",children:["₹ ",e.billed]})}),(0,l.jsx)("td",{className:"pl-4 pr-1 py-4 text-[var(--yellow)] font-semibold",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("div",{"data-tooltip-id":"my-tooltip","data-tooltip-content":"view all the invoices!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-blue-100 hover:bg-blue-200 cursor-pointer text-blue-900 text-xs font-medium",children:"INVOICE"}),(0,l.jsx)("div",{onClick:()=>{H(e,e.id)},"data-tooltip-id":"my-tooltip","data-tooltip-content":"edit details of client!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-yellow-100 hover:bg-yellow-200 cursor-pointer text-yellow-900 text-xs font-medium",children:"EDIT"}),(0,l.jsx)("div",{onClick:()=>{G(e,e.id)},"data-tooltip-id":"my-tooltip","data-tooltip-content":"click to remove the client!","data-tooltip-place":"top",className:"px-3 py-1 rounded-sm bg-red-100 hover:bg-red-200 cursor-pointer text-red-900 text-xs font-medium",children:"DELETE"})]})})]},e.id))})]})})]})}},9328:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(5155),s=a(6731),i=a(2115);let n=e=>{let{setIsFailedMsg:t}=(0,i.useContext)(s.S);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--blackTrans)] fixed flex justify-center items-center",children:(0,l.jsx)("div",{className:"p-6 rounded-xl bg-[var(--white)] w-[90%] max-w-[320px]",children:(0,l.jsxs)("div",{className:"flex flex-col justify-start items-start",children:[(0,l.jsx)("p",{className:"text-lg font-bold text-[var(--red)]",children:e.heading}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",children:e.message}),(0,l.jsx)("button",{onClick:()=>{t(!1)},className:"w-full py-2 cursor-pointer hover:bg-gray-900 bg-black text-white font-semibold mt-4 rounded-md",children:"Close"})]})})})})}},9893:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(5155),s=a(2115),i=a(2230),n=a(6731),o=a(2801),r=a(5317),d=a(4732),c=a(9328);let p=()=>{let{setIsNewClient:e,isFailedMsg:t,setIsFailedMsg:a,setIsUpdateClient:p,setClientDataReady:m,clientData:x,setClientData:h}=(0,s.useContext)(n.S),{userData:u,setUserData:g,currentUser:y}=(0,s.useContext)(o.AuthContext),[v,f]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[b,C]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[E,A]=(0,s.useState)(!1),[S,T]=(0,s.useState)(""),[I,L]=(0,s.useState)(""),P=async t=>{if(t.preventDefault(),"Free"==u.plan&&u.clientleft>0){A(!0);let t={name:v,mail:j,phone:b,address:w,invoice:0,billed:0,tags:[],createdAt:(0,r.O5)()},a=(0,r.rJ)(d.db,"happyuser",y.uid,"happyclient"),l=await (0,r.gS)(a,t),s=(0,r.H9)(d.db,"happyuser",y.uid),i=u.activity;(3==i.length||""==i[0])&&i.pop(),i.unshift("New Client "+v+" added."),await (0,r.mZ)(s,{clientleft:u.clientleft-1,totalclient:u.totalclient+1,activity:i}),g({...u,totalclient:u.totalclient+1,clientleft:u.clientleft-1,activity:i});let n=x||[];n.unshift({id:l.id,...t}),h(n),m(!0),f(""),N(""),C(""),k(""),e(!1),A(!1)}else T("User Limit Exeeded"),L("your user limit exceeded, upgrade to our plus plan to add unlimited clients."),a(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--themeBlackTrans)] fixed flex justify-center items-start p-6",children:(0,l.jsxs)("div",{className:"rounded-xl bg-[var(--themeWhite)] w-full max-w-[400px]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center rounded-tl-lg rounded-tr-lg bg-[var(--greenLightestPanel)] py-3 px-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-black flex-1",children:"Add Client"}),(0,l.jsx)("i",{className:"fa-solid fa-close text-xl cursor-pointer px-2 py-1",onClick:()=>{e(!1)}})]}),(0,l.jsx)("div",{className:"px-6 md:px-8 py-6",children:(0,l.jsxs)("form",{onSubmit:e=>{P(e)},children:[(0,l.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Client Name ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{required:!0,type:"text",name:"name",value:v,onChange:e=>{f(e.target.value)},className:"happyinput",placeholder:"i.e. John"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Email ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("input",{type:"email",name:"mail",value:j,onChange:e=>{N(e.target.value)},className:"happyinput",placeholder:"i.e. john@gmail.com"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Phone ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("input",{type:"text",name:"phone",value:b,onChange:e=>{C(e.target.value)},className:"happyinput",placeholder:"i.e. 9900990099"}),(0,l.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Address ",(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,l.jsx)("textarea",{name:"address",value:w,onChange:e=>{k(e.target.value)},className:"happyinput",placeholder:"i.e. JR Street"}),(0,l.jsxs)("button",{className:"btnGreen mt-5 w-full",children:["Save Client ",(0,l.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})]})})]})}),t&&(0,l.jsx)(c.A,{heading:S,message:I}),E&&(0,l.jsx)(i.A,{})]})}}}]);