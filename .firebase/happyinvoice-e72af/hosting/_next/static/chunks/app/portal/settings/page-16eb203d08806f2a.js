(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{3278:(e,t,l)=>{Promise.resolve().then(l.bind(l,6024))},6024:(e,t,l)=>{"use strict";l.d(t,{default:()=>w});var a=l(5155),s=l(2230),r=l(2743);l(3219),l(7667),l(310);var n=l(6606);l(9893);var i=l(5495),c=l(2801),m=l(6731),d=l(4732),o=l(5695),u=l(2115);let x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,l)=>l?l.toUpperCase():t.toLowerCase()),p=e=>{let t=h(e);return t.charAt(0).toUpperCase()+t.slice(1)},g=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter((e,t,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===t).join(" ").trim()},f=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var v={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let y=(0,u.forwardRef)((e,t)=>{let{color:l="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:c,...m}=e;return(0,u.createElement)("svg",{ref:t,...v,width:a,height:a,stroke:l,strokeWidth:r?24*Number(s)/Number(a):s,className:g("lucide",n),...!i&&!f(m)&&{"aria-hidden":"true"},...m},[...c.map(e=>{let[t,l]=e;return(0,u.createElement)(t,l)}),...Array.isArray(i)?i:[i]])}),j=(e,t)=>{let l=(0,u.forwardRef)((l,a)=>{let{className:s,...r}=l;return(0,u.createElement)(y,{ref:a,iconNode:t,className:g("lucide-".concat(x(p(e))),"lucide-".concat(e),s),...r})});return l.displayName=p(e),l},N=j("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),P=j("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var b=l(5317),k=l(6203);let w=()=>{let e=(0,o.useRouter)(),[t,l]=(0,u.useState)(""),[x,h]=(0,u.useState)("no"),[p,g]=(0,u.useState)(!1),[f,v]=(0,u.useState)(!1),[y,j]=(0,u.useState)(!1),[w,L]=(0,u.useState)(""),[E,C]=(0,u.useState)(""),[S,D]=(0,u.useState)(""),[B,A]=(0,u.useState)(""),[R,U]=(0,u.useState)(""),{currentUser:G,userData:Z,setUserData:_,loading:H,isReady:O,setLoading:I}=(0,u.useContext)(c.AuthContext),{isMenu:T,setIsMenu:z,isNewClient:F,setIsNewClient:J,clientData:M,clientDataReady:W,setIsUpdateClient:$,isClientEdit:q,userEditArray:Y,isNewClientTag:Q,setIsNewClientTag:K,newClientTagID:V,setNewClientTagID:X}=(0,u.useContext)(m.S),ee=(0,u.useRef)(),[et,el]=(0,u.useState)(null),[ea,es]=(0,u.useState)(!1),[er,en]=(0,u.useState)(!1),[ei,ec]=(0,u.useState)(!1),[em,ed]=(0,u.useState)(!1),[eo,eu]=(0,u.useState)(!1),ex=async e=>{if("green"==e){I(!0);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{theme:"green"}),_({...Z,theme:"green"}),es(!0),en(!1),ec(!1),ed(!1),eu(!1),document.documentElement.style.setProperty("--greenPanel","var(--greenPanelSet)"),document.documentElement.style.setProperty("--greenLightPanel","var(--greenLightPanelSet)"),document.documentElement.style.setProperty("--greenLightestPanel","var(--greenLightestPanelSet)"),document.documentElement.style.setProperty("--greenLightest2Panel","var(--greenLightest2PanelSet)"),document.documentElement.style.setProperty("--greenDarkPanel","var(--greenDarkPanelSet)"),document.documentElement.style.setProperty("--greenDarkestPanel","var(--greenDarkestPanelSet)"),I(!1)}else if("blue"==e){I(!0);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{theme:"blue"}),_({...Z,theme:"blue"}),en(!0),es(!1),ec(!1),ed(!1),eu(!1),document.documentElement.style.setProperty("--greenPanel","var(--bluePanel)"),document.documentElement.style.setProperty("--greenLightPanel","var(--blueLightPanel)"),document.documentElement.style.setProperty("--greenLightestPanel","var(--blueLightestPanel)"),document.documentElement.style.setProperty("--greenLightest2Panel","var(--blueLightest2Panel)"),document.documentElement.style.setProperty("--greenDarkPanel","var(--blueDarkPanel)"),document.documentElement.style.setProperty("--greenDarkestPanel","var(--blueDarkestPanel)"),I(!1)}else if("red"==e){I(!0);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{theme:"red"}),_({...Z,theme:"red"}),ec(!0),en(!1),es(!1),ed(!1),eu(!1),document.documentElement.style.setProperty("--greenPanel","var(--redPanel)"),document.documentElement.style.setProperty("--greenLightPanel","var(--redLightPanel)"),document.documentElement.style.setProperty("--greenLightestPanel","var(--redLightestPanel)"),document.documentElement.style.setProperty("--greenLightest2Panel","var(--redLightest2Panel)"),document.documentElement.style.setProperty("--greenDarkPanel","var(--redDarkPanel)"),document.documentElement.style.setProperty("--greenDarkestPanel","var(--redDarkestPanel)"),I(!1)}else if("purple"==e){I(!0);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{theme:"purple"}),_({...Z,theme:"purple"}),ed(!0),en(!1),es(!1),ec(!1),eu(!1),document.documentElement.style.setProperty("--greenPanel","var(--purplePanel)"),document.documentElement.style.setProperty("--greenLightPanel","var(--purpleLightPanel)"),document.documentElement.style.setProperty("--greenLightestPanel","var(--purpleLightestPanel)"),document.documentElement.style.setProperty("--greenLightest2Panel","var(--purpleLightest2Panel)"),document.documentElement.style.setProperty("--greenDarkPanel","var(--purpleDarkPanel)"),document.documentElement.style.setProperty("--greenDarkestPanel","var(--purpleDarkestPanel)"),I(!1)}else if("orange"==e){I(!0);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{theme:"orange"}),_({...Z,theme:"orange"}),eu(!0),en(!1),es(!1),ec(!1),ed(!1),document.documentElement.style.setProperty("--greenPanel","var(--orangePanel)"),document.documentElement.style.setProperty("--greenLightPanel","var(--orangeLightPanel)"),document.documentElement.style.setProperty("--greenLightestPanel","var(--orangeLightestPanel)"),document.documentElement.style.setProperty("--greenLightest2Panel","var(--orangeLightest2Panel)"),document.documentElement.style.setProperty("--greenDarkPanel","var(--orangeDarkPanel)"),document.documentElement.style.setProperty("--greenDarkestPanel","var(--orangeDarkestPanel)"),I(!1)}};(0,u.useEffect)(()=>{if(O&&G&&Z){y||h(Z.username);let e=Z.theme?Z.theme:"green";"green"==e?es(!0):"blue"==e?en(!0):"red"==e?ec(!0):"purple"==e?ed(!0):"orange"==e&&eu(!0),l(Z.username),L(Z.businessname),C(Z.businessmail),D(Z.businessphone),A(Z.businessaddress),el(Z.businesslogo),T&&z(!1)}!O||G||Z||e.replace("/signin/")},[O,G,Z]),(0,u.useEffect)(()=>{if(O&&G&&Z&&""!=t)if(t!=x){if(y){let e=setTimeout(async()=>{I(!0);let e=(0,b.P)((0,b.rJ)(d.db,"happyuser"),(0,b._M)("username","==",t));if((await (0,b.GG)(e)).empty){g(!1);let e=(0,b.H9)(d.db,"happyuser",G.uid);await (0,b.mZ)(e,{username:t});let l={...Z,username:t};h(t),_(l),v(!0),I(!1)}else g(!0),v(!1),I(!1)},1e3);return()=>clearTimeout(e)}}else j(!0)},[t,O,G,Z]);let eh=()=>{I(!0),(0,k.CI)(d.j),I(!1),e.replace("/signin/")};return(0,a.jsxs)(a.Fragment,{children:[T&&(0,a.jsx)(i.A,{page:"settings"}),H&&(0,a.jsx)(s.A,{}),(0,a.jsxs)("div",{className:"flex h-screen max-w-screen",children:[(0,a.jsx)("div",{className:"min-h-full hidden lg:block",children:(0,a.jsx)(n.A,{page:"settings"})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col max-w-screen overflow-y-auto",children:[(0,a.jsx)(r.A,{}),(0,a.jsxs)("div",{className:"border-b-2 px-6 border-[var(--greenLightPanel)] py-4 flex lg:hidden justify-center items-center",children:[(0,a.jsxs)("h1",{className:"text-lg font-bold text-left flex-1",children:[(0,a.jsx)("span",{className:"text-[var(--greenPanel)]",children:"Happy"}),"Invoice"]}),(0,a.jsx)("div",{className:"flex lg:hidden justify-start items-center",children:(0,a.jsx)("i",{className:"fa-solid fa-bars text-xl pr-3",onClick:()=>{z(!0)}})})]}),(0,a.jsxs)("div",{className:"py-6 px-6 md:px-8",children:[(0,a.jsx)("div",{className:"block sm:flex",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex justify-start items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Settings"})})}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"configure your settings here"})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 mt-5 rounded-md px-5 sm:px-7 py-5 flex flex-col max-w-full overflow-x-auto",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Customize your URL"}),(0,a.jsx)("div",{className:"w-full h-[1px] rounded bg-gray-300 mt-2"}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex justify-start items-center",children:["\uD83D\uDE80 ",(0,a.jsx)("p",{className:"text-md font-medium text-[var(--greenDarkPanel)] ml-3",children:"thehappyinvoice.com/"}),(0,a.jsx)("input",{required:!0,type:"text",name:"name",value:t,onChange:e=>{l(e.target.value)},className:"min-w-[150px] w-full py-1 px-1 box-border outline-0 border-b-2 border-b-[var(--grey66)] text-[var(--themeBlack)] placeholder:text-gray-500 focus:border-b-[var(--greenPanel)] hover:border-b-[var(--greenPanel)]",placeholder:"i.e. rockn"})]}),p&&(0,a.jsxs)("p",{className:"text-sm font-medium text-red-700 mt-3",children:[(0,a.jsx)("i",{className:"fa-solid fa-exclamation-triangle mr-2"}),"Username already taken, try a different one!"]}),f&&(0,a.jsxs)("p",{className:"text-sm font-medium text-green-700 mt-3",children:[(0,a.jsx)("i",{className:"fa-solid fa-check-circle mr-2"}),"Username updated successfully! enjoy!"]})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 mt-5 rounded-md px-5 sm:px-7 py-5 flex flex-col",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"General Settings"}),(0,a.jsx)("div",{className:"w-full h-[1px] rounded bg-gray-300 mt-2"}),(0,a.jsxs)("div",{className:"max-w-md mt-5",children:[(0,a.jsx)("div",{className:"w-full max-w-75 h-35 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer bg-white hover:border-blue-500 transition",onClick:()=>ee.current.click(),children:et?(0,a.jsxs)("div",{className:"w-full h-full relative group",children:[(0,a.jsx)("img",{src:et,alt:"Logo Preview",className:"object-contain h-full max-w-full mx-auto rounded"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),el(null)},className:"absolute top-2 right-2 cursor-pointer bg-black/70 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",title:"Remove Logo",children:(0,a.jsx)(N,{size:16})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center text-gray-500",children:[(0,a.jsx)(P,{className:"w-8 h-8"}),(0,a.jsx)("span",{className:"mt-1 text-sm font-medium",children:"+ Logo"})]})}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:ee,onChange:e=>{let t=e.target.files[0];t&&el(URL.createObjectURL(t))}})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Business Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{required:!0,type:"text",name:"name",value:w,onChange:e=>{L(e.target.value)},className:"happyinput",placeholder:"i.e. Rock N Services"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Business Mail ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("input",{type:"text",name:"mail",value:E,onChange:e=>{C(e.target.value)},className:"happyinput",placeholder:"i.e. support@rockn.com"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Business Phone ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("input",{type:"text",name:"phone",value:S,onChange:e=>{D(e.target.value)},className:"happyinput",placeholder:"i.e. 991 102 300"})]})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)] mt-4",children:["Business Address ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("textarea",{type:"text",name:"name",value:B,onChange:e=>{A(e.target.value)},className:"happyinput max-w-[350px]",placeholder:"i.e. 3rd floor, Oln Appartment"})]})}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,a.jsxs)("button",{className:"btnGreen mt-3",children:["Update General Settings ",(0,a.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-5",children:(0,a.jsxs)("div",{className:"flex-1 bg-gray-50 mt-5 rounded-md px-5 sm:px-7 py-5 flex flex-col",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Branding Settings"}),(0,a.jsx)("div",{className:"w-full h-[1px] rounded bg-gray-300 mt-2"}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)] mt-4",children:["Theme ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"flex flex-row mt-1 gap-2",children:[(0,a.jsx)("div",{onClick:()=>{ex("green")},className:"rounded-full w-10 h-10 bg-[var(--greenTheme)] cursor-pointer",children:ea&&(0,a.jsx)("div",{className:"rounded-full w-10 h-10 bg-black opacity-20 flex justify-center items-center text-lg text-white font-semibold",children:(0,a.jsx)("i",{className:"fa-solid fa-check"})})}),(0,a.jsx)("div",{onClick:()=>{ex("blue")},className:"rounded-full w-10 h-10 bg-[var(--bluePanel)] cursor-pointer",children:er&&(0,a.jsx)("div",{className:"rounded-full w-10 h-10 bg-black opacity-20 flex justify-center items-center text-lg text-white font-semibold",children:(0,a.jsx)("i",{className:"fa-solid fa-check"})})}),(0,a.jsx)("div",{onClick:()=>{ex("red")},className:"rounded-full w-10 h-10 bg-[var(--redPanel)] cursor-pointer",children:ei&&(0,a.jsx)("div",{className:"rounded-full w-10 h-10 bg-black opacity-20 flex justify-center items-center text-lg text-white font-semibold",children:(0,a.jsx)("i",{className:"fa-solid fa-check"})})}),(0,a.jsx)("div",{onClick:()=>{ex("purple")},className:"rounded-full w-10 h-10 bg-[var(--purplePanel)] cursor-pointer",children:em&&(0,a.jsx)("div",{className:"rounded-full w-10 h-10 bg-black opacity-20 flex justify-center items-center text-lg text-white font-semibold",children:(0,a.jsx)("i",{className:"fa-solid fa-check"})})}),(0,a.jsx)("div",{onClick:()=>{ex("orange")},className:"rounded-full w-10 h-10 bg-[var(--orangePanel)] cursor-pointer",children:eo&&(0,a.jsx)("div",{className:"rounded-full w-10 h-10 bg-black opacity-20 flex justify-center items-center text-lg text-white font-semibold",children:(0,a.jsx)("i",{className:"fa-solid fa-check"})})})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row mt-5",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:"Currency"}),(0,a.jsxs)("select",{value:R,onChange:e=>{U(e.target.value)},id:"currency",name:"currency",className:"happyinput",children:[(0,a.jsx)("option",{value:"INR",children:"INR ₹"}),(0,a.jsx)("option",{value:"USD",children:"USD $"}),(0,a.jsx)("option",{value:"EUR",children:"EUR €"}),(0,a.jsx)("option",{value:"GBP",children:"GBP \xa3"}),(0,a.jsx)("option",{value:"JPY",children:"JPY \xa5"})]})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex-1"})]}),(0,a.jsxs)("div",{className:"flex gap-3 md:gap-6 flex-col md:flex-row mt-6 md:mt-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:"Invoice Footer Note"}),(0,a.jsx)("textarea",{type:"text",name:"name",value:B,onChange:e=>{A(e.target.value)},className:"happyinput",placeholder:"i.e. 3rd floor, Oln Appartment"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:"Quotes Footer Note"}),(0,a.jsx)("textarea",{type:"text",name:"name",value:B,onChange:e=>{A(e.target.value)},className:"happyinput",placeholder:"i.e. 3rd floor, Oln Appartment"})]})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,a.jsxs)("button",{className:"btnGreen mt-3",children:["Update Branding Settings ",(0,a.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})})]})}),(0,a.jsx)("div",{className:"flex flex-col mt-7 mb-5",children:(0,a.jsxs)("button",{onClick:()=>{eh()},className:"btnRedLight md:mx-5",children:[(0,a.jsx)("i",{className:"fa-solid fa-right-from-bracket mr-3"}),"Logout"]})})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,163,645,244,29,808,516,441,684,358],()=>t(3278)),_N_E=e.O()}]);