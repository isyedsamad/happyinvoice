(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{1852:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var a=s(5155),l=s(2230);s(818);var r=s(2801),n=s(4732),i=s(5317),c=s(2115);let x=e=>{let{data:t}=e,[s,l]=(0,c.useState)(""),[r,n]=(0,c.useState)(t),[i,x]=(0,c.useState)(t),[d,m]=(0,c.useState)(!1),[o,h]=(0,c.useState)(""),p=e=>{l(e.target.value),""!=e.target.value?n(i.filter(t=>{if(t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.mail.toLowerCase().includes(e.target.value.toLowerCase()))return!0})):n(i)},u=e=>{console.log(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",name:"search",value:s,onChange:e=>{p(e)},className:"happyinput max-w-[300px]",placeholder:"search by name, email"})}),(0,a.jsxs)("div",{className:"mt-3 mb-5 overflow-x-auto flex justify-start items-center gap-2",children:[(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-yellow-100 hover:bg-yellow-200 cursor-pointer text-yellow-900 text-xs font-medium",children:"PREMIUM"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-green-100 hover:bg-green-200 cursor-pointer text-green-900 text-xs font-medium",children:"FREQUENT"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-gray-100 hover:bg-gray-200 cursor-pointer text-gray-900 text-xs font-medium",children:"INACTIVE"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-red-100 hover:bg-red-200 cursor-pointer text-red-900 text-xs font-medium",children:"FLAGGED"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-amber-100 hover:bg-amber-200 cursor-pointer text-amber-900 text-xs font-medium",children:"DUE PAYMENT"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-cyan-100 hover:bg-cyan-200 cursor-pointer text-cyan-900 text-xs font-medium",children:"INTERNATIONAL"})]}),(0,a.jsx)("div",{className:"max-w-full overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-800 rounded-md uppercase bg-gray-50 dark:bg-gray-200 dark:text-gray-400",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"CLIENT NAME"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"MAIL"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"PHONE"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"INVOICE CREATED"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"ACTION"})]})}),(0,a.jsx)("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{className:"odd:bg-[var(--themeWhite)] text-gray-600 even:bg-gray-50 border-b border-gray-100 hover:bg-gray-100 cursor-pointer",children:[(0,a.jsxs)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-700 whitespace-nowrap flex justify-start items-center",children:[e.name,(0,a.jsx)("div",{onClick:()=>{u(e.id)},className:"w-[20px] h-[20px] bg-gray-200 hover:bg-gray-300 text-[11px] text-gray-500 font-bold rounded-full flex justify-center items-center ml-2",children:(0,a.jsx)("i",{className:"fa-solid fa-plus"})})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:""!=e.mail?e.mail:"-"}),(0,a.jsx)("td",{className:"px-6 py-4",children:""!=e.phone?e.phone:"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-[var(--greenPanel)] font-semibold",children:e.invoice}),(0,a.jsx)("td",{className:"px-6 py-4 text-[var(--yellow)] font-semibold",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-yellow-100 hover:bg-yellow-200 cursor-pointer text-yellow-900 text-xs font-medium",children:"EDIT"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-sm bg-red-100 hover:bg-red-200 cursor-pointer text-red-900 text-xs font-medium",children:"DELETE"})]})})]},e.id))})]})})]})};s(2267);var d=s(6606),m=s(6731);let o=e=>{let{setIsFailedMsg:t}=(0,c.useContext)(m.S);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--blackTrans)] fixed flex justify-center items-center",children:(0,a.jsx)("div",{className:"p-6 rounded-xl bg-[var(--white)] w-[90%] max-w-[320px]",children:(0,a.jsxs)("div",{className:"flex flex-col justify-start items-start",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-[var(--red)]",children:e.heading}),(0,a.jsx)("p",{className:"text-sm font-medium mt-1",children:e.message}),(0,a.jsx)("button",{onClick:()=>{t(!1)},className:"w-full py-2 cursor-pointer hover:bg-gray-900 bg-black text-white font-semibold mt-4 rounded-md",children:"Close"})]})})})})},h=()=>{let{setIsNewClient:e,isFailedMsg:t,setIsFailedMsg:s,setIsUpdateClient:x,setClientDataReady:d,clientData:h,setClientData:p}=(0,c.useContext)(m.S),{userData:u,setUserData:g,currentUser:f}=(0,c.useContext)(r.AuthContext),[j,v]=(0,c.useState)(""),[N,y]=(0,c.useState)(""),[b,w]=(0,c.useState)(""),[C,E]=(0,c.useState)(""),[k,S]=(0,c.useState)(!1),[P,A]=(0,c.useState)(""),[L,D]=(0,c.useState)(""),I=async t=>{if(t.preventDefault(),"Free"==u.plan&&u.clientleft>0){S(!0);let t={name:j,mail:N,phone:b,address:C,invoice:0,tags:[],createdAt:(0,i.O5)()},s=(0,i.rJ)(n.db,"happyuser",f.uid,"happyclient"),a=await (0,i.gS)(s,t),l=(0,i.H9)(n.db,"happyuser",f.uid);await (0,i.mZ)(l,{clientleft:u.clientleft-1}),g({...u,clientleft:u.clientleft-1});let r=h||[];r.unshift({id:a.id,...t}),p(r),d(!0),v(""),y(""),w(""),E(""),e(!1),S(!1)}else A("User Limit Exeeded"),D("your user limit exceeded, upgrade to our plus plan to add unlimited clients."),s(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-[100vw] h-[100vh] bg-[var(--themeBlackTrans)] fixed flex justify-center items-start p-6",children:(0,a.jsxs)("div",{className:"rounded-xl bg-[var(--themeWhite)] w-full max-w-[400px]",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center rounded-tl-lg rounded-tr-lg bg-[var(--greenLightestPanel)] py-3 px-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-black flex-1",children:"Add New Client"}),(0,a.jsx)("i",{className:"fa-solid fa-close text-xl cursor-pointer px-2 py-1",onClick:()=>{e(!1)}})]}),(0,a.jsx)("div",{className:"px-6 md:px-8 py-6",children:(0,a.jsxs)("form",{onSubmit:e=>{I(e)},children:[(0,a.jsxs)("p",{className:"text-md font-medium text-[var(--themeBlack)]",children:["Client Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{required:!0,type:"text",name:"name",value:j,onChange:e=>{v(e.target.value)},className:"happyinput",placeholder:"i.e. John"}),(0,a.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Email ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("input",{type:"email",name:"mail",value:N,onChange:e=>{y(e.target.value)},className:"happyinput",placeholder:"i.e. john@gmail.com"}),(0,a.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Phone ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("input",{type:"text",name:"phone",value:b,onChange:e=>{w(e.target.value)},className:"happyinput",placeholder:"i.e. 9900990099"}),(0,a.jsxs)("p",{className:"text-md font-medium mt-4 text-[var(--themeBlack)]",children:["Address ",(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(optional)"})]}),(0,a.jsx)("textarea",{name:"address",value:C,onChange:e=>{E(e.target.value)},className:"happyinput",placeholder:"i.e. JR Street"}),(0,a.jsxs)("button",{className:"btnGreen mt-5 w-full",children:["Save Client ",(0,a.jsx)("i",{className:"fa-solid fa-angle-right ml-2"})]})]})})]})}),t&&(0,a.jsx)(o,{heading:P,message:L}),k&&(0,a.jsx)(l.A,{})]})};s(6255);var p=s(5495);s(6203),s(6874),s(5695);let u=()=>{let[e,t]=(0,c.useState)(""),[s,n]=(0,c.useState)("-"),[i,o]=(0,c.useState)(!1),{currentUser:u,userData:g,loading:f,isReady:j,setLoading:v}=(0,c.useContext)(r.AuthContext),{isMenu:N,setIsMenu:y,isNewClient:b,setIsNewClient:w,clientData:C,clientDataReady:E,setIsUpdateClient:k}=(0,c.useContext)(m.S);return(0,c.useEffect)(()=>{j&&u&&g&&(n(g.plan+" Plan â€¢ "+g.clientleft+" clients left"),t(g.name.includes(" ")?g.name.split(" ")[0]:g.name),"Free"==g.plan&&o(!0),N&&y(!1),C||k(!0)),!j||u||g||router.replace("signin/")},[j,u,g]),(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(l.A,{}),N&&(0,a.jsx)(p.A,{page:"client"}),b&&(0,a.jsx)(h,{}),(0,a.jsxs)("div",{className:"flex h-screen max-w-screen",children:[(0,a.jsx)("div",{className:"min-h-full hidden lg:block",children:(0,a.jsx)(d.A,{page:"client"})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col max-w-screen",children:[i?(0,a.jsx)("div",{className:"w-full cursor-pointer text-sm bg-[var(--greenLightestPanel)] hover:bg-[var(--greenLightPanel)] px-4 py-2 flex justify-center items-center",children:(0,a.jsxs)("p",{className:"font-medium text-center",children:["Upgrade to ",(0,a.jsx)("span",{className:"font-semibold",children:"\uD83D\uDE80 Plus Plan "}),"and generate unlimited invoices."]})}):(0,a.jsx)("div",{className:"w-full cursor-pointer text-sm bg-[var(--greenLightestPanel)] hover:bg-[var(--greenLightPanel)] px-4 py-2 flex justify-center items-center",children:(0,a.jsxs)("p",{className:"font-medium text-center",children:["We are now a family of ",(0,a.jsx)("span",{className:"font-semibold",children:"\uD83D\uDE80 Plus Plan "}),"and generate unlimited invoices."]})}),(0,a.jsxs)("div",{className:"border-b-2 px-6 border-[var(--greenLightPanel)] py-4 flex lg:hidden justify-center items-center",children:[(0,a.jsxs)("h1",{className:"text-lg font-bold text-left flex-1",children:[(0,a.jsx)("span",{className:"text-[var(--greenPanel)]",children:"Happy"}),"Invoice"]}),(0,a.jsx)("div",{className:"flex lg:hidden justify-start items-center",children:(0,a.jsx)("i",{className:"fa-solid fa-bars text-xl pr-3",onClick:()=>{y(!0)}})})]}),(0,a.jsxs)("div",{className:"py-6 px-6 md:px-8",children:[(0,a.jsxs)("div",{className:"block sm:flex",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"flex justify-start items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Your Clients"})})}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:s})]}),(0,a.jsx)("div",{className:"mt-3 sm:mt-0",children:(0,a.jsxs)("button",{className:"btnGreen",onClick:()=>{w(!0)},children:[(0,a.jsx)("i",{className:"fa-solid fa-plus mr-2"}),"New Client"]})})]}),(0,a.jsx)("div",{className:"mt-5 max-w-full",children:E?(0,a.jsx)(a.Fragment,{children:C?(0,a.jsx)(x,{data:C}):(0,a.jsxs)("div",{className:"w-full py-15 px-5 flex flex-col justify-center items-center font-semibold text-[var(--themeBlack)]",children:[(0,a.jsx)("i",{className:"fa-solid fa-triangle-exclamation text-6xl text-[var(--greenPanel)]"}),(0,a.jsx)("h2",{className:"mt-5 text-lg text-center",children:"No Client Found!"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs text-center",children:"add clients by clicking on the button to show here."})]})}):(0,a.jsxs)("div",{className:"w-full py-15 px-5 flex flex-col justify-center items-center font-semibold text-[var(--themeBlack)]",children:[(0,a.jsx)("i",{className:"fa-solid fa-triangle-exclamation text-6xl text-[var(--greenPanel)]"}),(0,a.jsx)("h2",{className:"mt-5 text-lg text-center",children:"Searching clients!"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs text-center",children:"searching clients, please wait."})]})})]})]})]})]})}},5052:(e,t,s)=>{Promise.resolve().then(s.bind(s,1852))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,163,645,244,661,441,684,358],()=>t(5052)),_N_E=e.O()}]);